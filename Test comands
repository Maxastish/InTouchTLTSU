from aiogram.types import CallbackQuery, Message, InlineKeyboardMarkup, InlineKeyboardButton,\
    ReplyKeyboardRemove, ReplyKeyboardMarkup, KeyboardButton

"""TEST COMANDS"""
    
""""НЕСКОЛЬКО КНОПОК"""
@dp.message_handler(commands="start")
async def cmd_start(message: types.Message):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    buttons_1 = ["Кнопка 1", "Кнопка 2"]
    buttons_2 = ["Кнопка 3", "Кнопка 4"]
    button_back = ["Назад"]
    keyboard.add(*buttons)
    await message.answer("Вопрос", reply_markup=keyboard)
    
    
"""ОТВЕТ БОТА НА КНОПКИ"""
@dp.message_handler(Text(equals="Кнопка 1"))
async def with_puree(message: types.Message):
    await message.reply("Ответ на сообщение пользователя 1")

@dp.message_handler(lambda message: message.text == "Кнопка 2")
async def without_puree(message: types.Message):
    await message.reply("Ответ на сообщение пользователя 2")
    
"""УДАЛЕНИЕ КНОПОК"""
await message.reply("Ответ на сообщение пользователя 1", reply_markup=types.ReplyKeyboardRemove())
await message.reply("Ответ на сообщение пользователя 2", reply_markup=types.ReplyKeyboardRemove())

""" ЧТО-ТО """

@dp.message_handler(commands="start")
async def cmd_start(message: types.Message):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    buttons_1 = ["Кнопка 1", "Кнопка 2"]
    buttons_2 = ["Кнопка 3", "Кнопка 4"]
    button_back = ["Назад"]
    keyboard.add(*buttons)
    await message.answer("Вопрос", reply_markup=keyboard)
await message.reply("Ответ на сообщение пользователя 1", reply_markup=types.ReplyKeyboardRemove())
    
@dp.message_handler(Text(equals="Кнопка 1"))
async def with_puree(message: types.Message):
    keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
    buttons_1 = ["Кнопка 1 1", "Кнопка 2 2"]
    buttons_2 = ["Кнопка 3 3", "Кнопка 4 4"]
    button_back = ["Назад"]
    keyboard.add(*buttons)
    await message.answer("Вопрос", reply_markup=keyboard)





    @dp.message_handler(commands=['start'])
    async def cmd_start(message: types.Message):
        keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
        buttons_1 = ["Кнопка 1", "Кнопка 2"]
        buttons_2 = ["Кнопка 3", "Кнопка 4"]
        button_back = ["Назад"]
        keyboard.add(*buttons)
        await message.answer("Вопрос", reply_markup=keyboard)

    # await message.reply("Ответ на сообщение пользователя 1", reply_markup=types.ReplyKeyboardRemove())

    @dp.message_handler(commands="b1")
    async def with_puree(message: types.Message):
        keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
        buttons_1 = ["Кнопка 1 1", "Кнопка 2 2"]
        buttons_2 = ["Кнопка 3 3", "Кнопка 4 4"]
        button_back = ["Назад"]
        keyboard.add(*buttons)
        await message.answer("Вопрос", reply_markup=keyboard)

    @dp.message_handler(commands="b2")
    async def with_puree(message: types.Message):
        keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
        buttons_1 = ["Кнопка 2 1 1", "Кнопка 2 2"]
        buttons_2 = ["Кнопка 3 3", "Кнопка 4 4"]
        button_back = ["Назад"]
        keyboard.add(*buttons)
        await message.answer("Вопрос", reply_markup=keyboard)

    @dp.message_handler(commands="b3")
    async def with_puree(message: types.Message):
        keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
        buttons_1 = ["Кнопка 3 1 1", "Кнопка 2 2"]
        buttons_2 = ["Кнопка 3 3", "Кнопка 4 4"]
        button_back = ["Назад"]
        keyboard.add(*buttons)
        await message.answer("Вопрос", reply_markup=keyboard)

    @dp.message_handler(commands="b4")
    async def with_puree(message: types.Message):
        keyboard = types.ReplyKeyboardMarkup(resize_keyboard=True)
        buttons_1 = ["Кнопка 4 1 1", "Кнопка 2 2"]
        buttons_2 = ["Кнопка 3 3", "Кнопка 4 4"]
        button_back = ["Назад"]
        keyboard.add(*buttons)
        await message.answer("Вопрос", reply_markup=keyboard)

    @dp.message_handler(commands="back")
    async def with_puree(message: types.Message):
        await message.reply("Ответ на сообщение пользователя 2")





        # Создание первой  клавиатуры
        how_are_you_kb = InlineKeyboardMarkup().row(
            InlineKeyboardButton(text="нормально", callback_data="good"),
            InlineKeyboardButton(text="не очень", callback_data="bad"))

        # Указываем что сделать при нажатии на кнопку,
        # в нашем случае прислать другую клавиатуру
        @dp.callback_query_handler(lambda c: c.data == 'good')
        async def callback(message: Message):
            await bot.send_message(
                chat_id=message.from_user.id,
                reply_markup=feel_good_kb,
                text="отлично")

        @dp.callback_query_handler(lambda c: c.data == 'bad')
        async def callback(message: Message):
            await bot.send_message(
                chat_id=message.from_user.id,
                reply_markup=fell_bad_kb,
                text="плохо")

        # Снова создаем клавиатуры
        # сallback добавишь сам
        feel_good_kb = InlineKeyboardMarkup().row(
            InlineKeyboardButton(
                text="радость",
                callback_data="feel_good"))

        fell_bad_kb = InlineKeyboardMarkup().row(
            InlineKeyboardButton(
                text="боль",
                callback_data="fell_bad"))
